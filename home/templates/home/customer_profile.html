{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">

  <h3 class="mb-4">My Profile</h3>

  {% if not edit_mode %}
  <!-- VIEW MODE -->
  <div class="card shadow-sm p-4">
    <h5 class="mb-3">{{ profile.full_name }}</h5>

    <p><strong>Email:</strong> {{ profile.email }}</p>
    <p><strong>Mobile:</strong> {{ profile.mobile }}</p>
    <p><strong>Address:</strong> {{ profile.address }}</p>
    <p><strong>City:</strong> {{ profile.city }}</p>
    <p><strong>State:</strong> {{ profile.state }}</p>
    <p><strong>Pincode:</strong> {{ profile.pincode }}</p>

    <a href="?edit=1" class="btn btn-primary mt-3">Edit Profile</a>
  </div>

  {% else %}
  <!-- EDIT MODE -->
  <div class="card shadow-sm p-4">
    <h5>Edit Profile</h5>

    <form method="post" class="mt-3">
      {% csrf_token %}
      {{ form.as_p }}

      <button type="submit" class="btn btn-success">Save Changes</button>
      <a href="{% url 'user_profile' %}" class="btn btn-secondary ms-2">Cancel</a>
    </form>
  </div>
  {% endif %}

</div>

<style>
  .card {
    border-radius: 10px;
  }
</style>
{% endblock %}