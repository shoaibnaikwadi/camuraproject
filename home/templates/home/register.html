{% extends 'base.html' %}
{% block content %}

<div class="container mt-5" style="max-width: 450px;">
    <h3 class="text-center mb-4">Register with Mobile OTP</h3>

    {% if stage == "mobile" %}
    <!-- ============= MOBILE INPUT ============= -->
    <form method="POST">
        {% csrf_token %}
        <label>Mobile Number</label>
        <input type="text" name="mobile" class="form-control" required>

        <button class="btn btn-primary w-100 mt-3" name="send_otp">Send OTP</button>
    </form>

    {% elif stage == "otp" %}
    <!-- ============= OTP INPUT ============= -->
    <form method="POST">
        {% csrf_token %}
        <label>Enter OTP</label>
        <input type="text" name="otp" class="form-control" required>

        <button class="btn btn-success w-100 mt-3" name="verify_otp">Verify OTP</button>

        <p class="text-center mt-3">
            <a href="{% url 'register' %}">Change Number</a>
        </p>
    </form>
    {% endif %}
</div>

{% endblock %}